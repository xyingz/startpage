import{d as B,c as F,a as o,F as R,b as T,r as we,o as m,e as Ge,u as fe,f as p,n as x,g as Ce,h as _e,w as pe,i as $,j as b,t as O,p as $e,k as Be,P as k,l as Qe,m as Pe,q as V,s as l,Q as D,v as S,x as je,y as ge,z as Xe,A as Ke,B as Ee,C as J,D as L,T as Je,E as he,G as ve,H as U,I as We,J as Se,K as ye,L as H,M as Fe,N as Oe,O as ke,R as W,S as Ye,U as Y,V as Ze,W as et,X as tt,Y as Ae,Z,_ as z,$ as w,a0 as A,a1 as C,a2 as ot,a3 as st,a4 as Ie,a5 as Te,a6 as nt,a7 as ut,a8 as at,a9 as lt,aa as it,ab as rt,ac as ct,ad as dt,ae as mt,af as ft,ag as _t}from"./vendor.a9547dfa.js";const pt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}};pt();var q=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n};const gt=B({name:"App"}),Et=T("footer",null,"CopyRight @ JeremyJone",-1);function ht(t,e,n,r,s,a){const c=we("router-view");return m(),F(R,null,[o(c,{style:{height:"100vh"}}),Et],64)}var vt=q(gt,[["render",ht]]);const St="modulepreload",xe={},yt="./",Ft=function(e,n){return!n||n.length===0?e():Promise.all(n.map(r=>{if(r=`${yt}${r}`,r in xe)return;xe[r]=!0;const s=r.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":St,s||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),s)return new Promise((E,h)=>{c.addEventListener("load",E),c.addEventListener("error",h)})})).then(()=>e())},Tt="",be=Ge.create({baseURL:Tt,timeout:1e4});be.interceptors.request.use(t=>t,t=>Promise.reject(t));be.interceptors.response.use(t=>t,t=>{let{response:e}=t;if(t&&t.response)switch(t.response.status){case 400:e.message="\u672A\u77E5\u9519\u8BEF";break;case 401:e.message="\u672A\u6388\u6743";break;case 403:e.message="\u6743\u9650\u4E0D\u8DB3";break;case 404:e.message="\u6570\u636E\u4E0D\u5B58\u5728";break;case 405:e.message="\u4E0D\u5141\u8BB8\u7684\u8BF7\u6C42\u65B9\u6CD5";break;case 408:e.message="\u8BF7\u6C42\u8D85\u65F6";break;case 415:e.message="\u4E0D\u652F\u6301\u7684\u5A92\u4F53\u7C7B\u578B";break;case 500:e.message="\u670D\u52A1\u5668\u51FA\u73B0\u5F02\u5E38";break;case 501:e.message="\u7F51\u7EDC\u672A\u5B9E\u73B0";break;case 502:e.message="\u7F51\u7EDC\u9519\u8BEF";break;case 503:e.message="\u670D\u52A1\u4E0D\u53EF\u7528";break;case 504:e.message="\u7F51\u7EDC\u8D85\u65F6";break;case 505:e.message="http\u7248\u672C\u4E0D\u652F\u6301\u8BE5\u8BF7\u6C42";break;default:e.message=`\u5176\u4ED6\u9519\u8BEF\u3002\u9519\u8BEF\u4EE3\u7801\uFF1A${t.response.status}`}else e={message:"\u65E0\u6CD5\u8FDE\u63A5\u5230\u670D\u52A1\u5668\uFF01"};return Promise.reject(e)});function bt(t,e){return t.then(n=>[null,n]).catch(n=>(e&&Object.assign(n,e),[n,void 0]))}function De(t,e={}){return bt(new Promise((n,r)=>{be.get(t,{params:e}).then(s=>{n(s.data)}).catch(s=>{r(s)})}))}async function Dt(){const[t,e]=await De("https://api.seniverse.com/v3/life/chinese_calendar.json?key=SwOzxhRmO3o7iDBsR");return t||!e?"\u65E5\u5386\u6682\u65F6\u4E0D\u53EF\u7528":e.results.chinese_calendar}async function wt(){const[t,e]=await De("https://api.seniverse.com/v3/weather/now.json?key=SwOzxhRmO3o7iDBsR&location=ip&language=zh-Hans&unit=c");return t||!e?"\u5929\u6C14\u6682\u65F6\u4E0D\u53EF\u7528":e.results}const ee=navigator.userAgent.toLowerCase(),Ct=()=>/android|webos|iphone|ipod|balckberry/i.test(ee),$t=()=>ee.indexOf("iphone")>-1,Bt=()=>ee.indexOf("android")>-1||ee.indexOf("linux")>-1;function Ot(t,e=16){const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];let s;if(e=e||n.length,t)for(s=0;s<t;s++)r[s]=n[0|Math.random()*e];else{let a;for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",s=0;s<36;s++)r[s]||(a=0|Math.random()*16,r[s]=n[s===19?a&3|8:a])}return r.join("")}function te(t,e="yyyy-MM-dd",n="zh"){const r={zh:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],en:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]};["zh","en"].indexOf(n)===-1&&(n="zh"),t=new Date(t);const s={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours()%12==0?12:t.getHours()%12,"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};let a;for(a in s)if(new RegExp(`(${a})`).test(e)){const c=s[a].toString();e=e.replace(RegExp.$1,RegExp.$1.length===1?c:`00${c}`.substr(`${c}`.length))}return/(y+)/.test(e)&&(e=e.replace(RegExp.$1,`${t.getFullYear()}`.substr(4-RegExp.$1.length))),/(D+)/.test(e)&&(e=e.replace(RegExp.$1,r[n][t.getDay()])),e}function kt(t,e){if(!!Ct()){if($t())window.onload=()=>{document.body.addEventListener("focusin",()=>{t()}),document.body.addEventListener("focusout",()=>{e()})};else if(Bt()){const n=document.documentElement.clientHeight||document.body.clientHeight;window.onload=()=>{window.addEventListener("resize",()=>{(document.documentElement.clientHeight||document.body.clientHeight)<n?t():e()})}}}}function Ve(t){return t[Math.floor(Math.random()*t.length)]}const At=B({props:{size:{type:Number,default:2}},setup(t,{expose:e}){fe(_=>({"5ae0ba49":t.size}));const n=p(""),r=p(""),s=p("down"),a=p(!1);function c(_,d,i){a.value||(n.value=d.toString(),r.value=i.toString(),s.value=_,a.value=!0,setTimeout(()=>{a.value=!1,n.value=i.toString()},600))}function E(_,d){c("down",_,d)}function h(_,d){c("up",_,d)}function v(_){n.value=_.toString()}function g(_){r.value=_.toString()}return e({flipDown:E,flipUp:h,setFront:v,setBack:g}),(_,d)=>(m(),F("div",{class:x(["flipper-bar",[s.value,{go:a.value}]])},[T("div",{class:x(["digital front",`number${n.value}`])},null,2),T("div",{class:x(["digital back",`number${r.value}`])},null,2)],2))}});var P=q(At,[["__scopeId","data-v-49d88e9e"]]);const It={class:"clock"},xt={key:1},Vt={key:3},Rt=B({props:{time:{type:Date,default:new Date},direction:{type:String,default:"down"},showHour:{type:Boolean,default:!0},showMinute:{type:Boolean,default:!0},showSecond:{type:Boolean,default:!0}},setup(t){const e=t;fe(g=>({"5280bf80":n.value}));const n=p(1.5),r=p(),s=p(),a=p(),c=p(),E=p(),h=p(),v=Ce([]);return _e(()=>{var _,d;v.push(r,s,a,c,E,h);const g=te(e.time,"HHmmss");for(let i=0;i<v.length;i++)(d=(_=v[i])==null?void 0:_.value)==null||d.setFront(g[i])}),pe(()=>e.time,()=>{var d,i,u,f;const g=te(new Date(e.time.getTime()-1e3),"HHmmss"),_=te(e.time,"HHmmss");for(let y=0;y<v.length;y++)g[y]!==_[y]&&(e.direction==="up"?(i=(d=v[y])==null?void 0:d.value)==null||i.flipUp(g[y],_[y]):(f=(u=v[y])==null?void 0:u.value)==null||f.flipDown(g[y],_[y]))}),(g,_)=>(m(),F("div",It,[t.showHour?(m(),F(R,{key:0},[o(P,{ref_key:"flipperHour1",ref:r,size:n.value},null,8,["size"]),o(P,{ref_key:"flipperHour2",ref:s,size:n.value},null,8,["size"])],64)):$("",!0),t.showHour&&t.showMinute?(m(),F("span",xt,":")):$("",!0),t.showMinute?(m(),F(R,{key:2},[o(P,{ref_key:"flipperMinute1",ref:a,size:n.value},null,8,["size"]),o(P,{ref_key:"flipperMinute2",ref:c,size:n.value},null,8,["size"])],64)):$("",!0),t.showMinute&&t.showSecond?(m(),F("span",Vt,":")):$("",!0),t.showSecond?(m(),F(R,{key:4},[o(P,{ref_key:"flipperSecond1",ref:E,size:n.value},null,8,["size"]),o(P,{ref_key:"flipperSecond2",ref:h,size:n.value},null,8,["size"])],64)):$("",!0)]))}});var Lt=q(Rt,[["__scopeId","data-v-1489bb38"]]);const Nt=B({components:{Clock:Lt},setup(){const t=p(new Date);return setInterval(()=>{t.value=new Date},1e3),{time:t}}});function Mt(t,e,n,r,s,a){const c=we("Clock");return m(),b(c,{time:t.time},null,8,["time"])}var Ut=q(Nt,[["render",Mt]]);const Ht=t=>($e("data-v-86d286ce"),t=t(),Be(),t),zt={class:"flex justify-center"},qt=Ht(()=>T("div",{class:"fit absolute shadow-5 info-panel-bg"},null,-1)),Gt={class:"text-caption"},Qt={class:"text-caption"},Pt={class:"text-weight-bold"},jt=B({setup(t){const e=p("");wt().then(a=>{typeof a=="string"?e.value=a:e.value=`${a[0].location.name} \u5F53\u524D\uFF1A${a[0].now.temperature}\xB0C ${a[0].now.text}`});const n=p(""),r=p(""),s=p("");return Dt().then(a=>{let c=new Date;typeof a!="string"&&(c=a[0].date,r.value=`${a[0].lunar_month_name}${a[0].lunar_day_name}`,s.value=`${a[0].ganzhi_year}\u5E74 ${a[0].ganzhi_month}\u6708 ${a[0].ganzhi_day}\u65E5 ${a[0].lunar_festival}`),n.value=te(c,"yyyy-MM-dd")}),(a,c)=>(m(),F("div",zt,[T("div",{class:x(["relative-position",a.$q.screen.gt.xs?"row":"column"])},[qt,o(Ut,{class:"q-pa-md"}),T("div",{class:x(["column justify-center text-grey-1",{"q-mr-md":a.$q.screen.gt.xs,"q-mb-md":!a.$q.screen.gt.xs}])},[T("div",Gt,O(n.value)+" \u519C\u5386 "+O(r.value),1),T("div",Qt,O(s.value),1),T("div",Pt,O(e.value),1)],2)],2)]))}});var Xt=q(jt,[["__scopeId","data-v-86d286ce"]]);const oe="SET_FOCUS_MODE",se="SET_SHOW_TOOLBOX",ne="SET_REMOVE_TOOL_STATE",ue="SET_SEARCH_ENGINE_IDX",Re="SEARCH_ENGINE_INDEX",ae="SET_BACKGROUND_IMAGE",j="controllers",N={SET_FOCUS_MODE:`${j}/${oe}`,SET_SHOW_TOOLBOX:`${j}/${se}`,SET_REMOVE_TOOL_STATE:`${j}/${ne}`,SET_SEARCH_ENGINE_IDX:`${j}/${ue}`,GET_SEARCH_ENGINE_INDEX:`${j}/${Re}`,SET_BACKGROUND_IMAGE:`${j}/${ae}`},le="ADD_TOOL",ie="REMOVE_TOOL",re="SET_TOOL_LIST",ce="SET_SEARCH_ENGINE_LIST",de="SAVE_USER_SETTINGS",X="settings",I={ADD_TOOL:`${X}/${le}`,REMOVE_TOOL:`${X}/${ie}`,SET_TOOL_LIST:`${X}/${re}`,SET_SEARCH_ENGINE_LIST:`${X}/${ce}`,SAVE_USER_SETTINGS:`${X}/${de}`},Kt={namespaced:!0,state:{focusMode:!1,isShowToolBox:!1,removeToolState:!1,defaultEngineIdx:0,backgroundImage:void 0},getters:{[Re]:(t,e,n)=>t.defaultEngineIdx>=0&&t.defaultEngineIdx<n.settings.searchEngines.length?t.defaultEngineIdx:0},mutations:{[oe](t,e){t.focusMode=e},[se](t,e){t.isShowToolBox=e},[ne](t,e){t.removeToolState=e},[ue](t,e){t.defaultEngineIdx=e},[ae](t,e){t.backgroundImage=e}},actions:{[oe](t,e){t.commit(oe,e)},[se](t,e){t.commit(se,e)},[ne](t,e){t.commit(ne,e)},[ue](t,e){let n=0;e>=0&&e<t.rootState.settings.searchEngines.length&&(n=e),t.commit(ue,n)},[ae](t,e){t.commit(ae,e)}}},me="x-start-toolList",Le="x-start-searchEngineList",Ne="x-start-defaultSearchEngineIdx",Me="x-start-user-settings",Jt={namespaced:!0,state:{tools:[],searchEngines:[],userSettings:{isSaveDefaultSearchEngine:!0,toolRadius:10,isDefaultFocusMode:!0,isShowInfoPanel:!0}},mutations:{[re](t,e){t.tools=e},[le](t,e){var n;t.tools.length<24&&(t.tools.push({id:(n=e.id)!=null?n:Ot(12),url:e.url,name:e.name}),k.set(me,JSON.stringify(t.tools)))},[ie](t,e){const n=t.tools.findIndex(r=>r.id===e.id);n!==-1&&t.tools.splice(n,1),k.set(me,JSON.stringify(t.tools))},[ce](t,e){t.searchEngines=e},[de](t,e){Object.assign(t.userSettings,e)}},actions:{[re](t,e){t.commit(re,e)},[le](t,e){t.commit(le,e)},[ie](t,e){t.commit(ie,e)},[ce](t,e){t.commit(ce,e)},[de](t,e){t.commit(de,e)}}},Ue=Symbol("store_key");var G=Qe({strict:!0,modules:{controllers:Kt,settings:Jt}});function Q(){return Pe(Ue)}const He={isSaveDefaultSearchEngine:!0,toolRadius:10,isDefaultFocusMode:!0,isShowInfoPanel:!0};function K(t){k.set(Me,JSON.stringify(Object.assign(He,t)))}function Wt(t){k.set(me,JSON.stringify(t))}function Yt(t){k.set(Le,JSON.stringify(t))}function ze(t){!G.state.settings.userSettings.isSaveDefaultSearchEngine||k.set(Ne,t)}function Zt(){k.clear()}const eo=B({setup(t){var _;const e=Q(),n=e.state.settings.searchEngines.map(d=>({value:d.name,icon:`img:/assets/icons/${d.icon}.svg`,url:d.url,slot:d.name,comment:d.comment})),r=p((_=n[e.getters[N.GET_SEARCH_ENGINE_INDEX]])==null?void 0:_.value),s=V(()=>n.find(d=>d.value===r.value));function a(d){var i;r.value=d,(i=v.value)==null||i.focus(),ze(n.findIndex(u=>u.value===d))}const c=V(()=>{var d;return`\u4F7F\u7528 ${(d=s.value)==null?void 0:d.comment} \u641C\u7D22`||"\u5F00\u59CB\u641C\u7D22"}),E=p("");function h(){var d;if(!E.value){(d=v.value)==null||d.focus();return}s.value&&(window.open(s.value.url+E.value),E.value="")}const v=p();_e(()=>{var d;e.state.controllers.focusMode&&((d=v.value)==null||d.focus())});function g(){document.body.classList.add("global-search-active"),e.dispatch(N.SET_FOCUS_MODE,!0)}return(d,i)=>(m(),F("div",{class:"column items-center",onClick:i[3]||(i[3]=Ee(()=>{},["stop"]))},[o(ge,{ref_key:"inputBar",ref:v,modelValue:E.value,"onUpdate:modelValue":i[0]||(i[0]=u=>E.value=u),dark:"",dense:"",standout:"",rounded:"",class:"search-bar","bg-color":"white",placeholder:S(c),"aria-placeholder":"\u641C\u7D22\u6846",onKeypress:je(h,["enter"]),onFocusin:g},{append:l(()=>[o(D,{flat:"",rounded:"",icon:"search",color:"primary",onClick:h})]),_:1},8,["modelValue","placeholder","onKeypress"]),o(Ke,null,{default:l(()=>[S(e).state.controllers.isShowToolBox?$("",!0):(m(),b(Xe,{key:0,modelValue:r.value,"onUpdate:modelValue":[i[1]||(i[1]=u=>r.value=u),i[2]||(i[2]=u=>a(u))],class:"search-bar-engine-toggle-wrap","toggle-color":"primary",glossy:S(e).state.controllers.focusMode,rounded:"",options:S(n)},null,8,["modelValue","glossy","options"]))]),_:1})]))}});const to={key:0,class:"tool-box-btn-img-wrap"},oo={class:"tool-box-name ellipsis text-white"},so=B({props:{tool:null},setup(t){const e=J(),n=Q();function r(c){c.url&&window.open(c.url,"_blank")}function s(){n.state.controllers.removeToolState||n.dispatch(N.SET_REMOVE_TOOL_STATE,!0)}function a(c){n.dispatch(I.REMOVE_TOOL,c)}return(c,E)=>(m(),F("div",{class:x(["tool-box-btn-wrap relative-position",{"tool-box-btn-wrap-swing":S(n).state.controllers.removeToolState}])},[L((m(),b(D,{unelevated:"",color:"dark",padding:S(e).screen.lt.sm?"none":"",class:"tool-box-btn",onClick:E[1]||(E[1]=()=>r(t.tool))},{default:l(()=>[t.tool.url?(m(),F("div",to,[o(ve,{src:`https://ico.kucat.cn/get.php?url=${t.tool.url}`,alt:t.tool.name,ratio:"1",width:"100%",height:"100%",fit:"contain"},{error:l(()=>[o(he,{name:"public",size:"2rem",class:x({"error-btn-icon":S(e).screen.gt.xs})},null,8,["class"])]),_:1},8,["src","alt"])])):$("",!0),S(n).state.controllers.removeToolState?(m(),b(D,{key:1,icon:"close",color:"warning",round:"",size:"0.3rem",class:"absolute tool-box-btn-delete",onClick:E[0]||(E[0]=Ee(()=>a(t.tool),["stop"]))})):$("",!0)]),_:1},8,["padding"])),[[Je,s,void 0,{mouse:!0}]]),T("div",oo,O(t.tool.name),1)],2))}});var no=q(so,[["__scopeId","data-v-428ae20a"]]);const uo=T("div",{class:"text-h6 text-white"},"\u6DFB\u52A0\u5BFC\u822A",-1),ao=B({props:{showDialog:{default:!1,type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=J(),s=V({get(){return n.showDialog},set(d){e("update:modelValue",d)}}),a=p(""),c=p(""),E=p(),h=p(),v=p(),g=Q();function _(){var d,i,u,f;if(!a.value){(d=E.value)==null||d.focus(),(i=v.value)==null||i.shake();return}if(!c.value){(u=h.value)==null||u.focus(),(f=v.value)==null||f.shake();return}if(g.state.settings.tools.length>=18){r.notify({color:"warning",message:"\u5DE5\u5177\u7BB1\u5DF2\u6EE1\u3002\u6700\u591A\u53EF\u4EE5\u653E\u7F6E 24 \u4E2A\u5DE5\u5177",position:"center"});return}g.dispatch(I.ADD_TOOL,{name:a.value,url:c.value}),a.value="",c.value="",s.value=!1}return(d,i)=>(m(),b(Fe,{ref_key:"dialogRef",ref:v,modelValue:S(s),"onUpdate:modelValue":i[2]||(i[2]=u=>H(s)?s.value=u:null),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[o(ye,{style:{width:"50%"}},{default:l(()=>[o(U,{class:"bg-primary"},{default:l(()=>[uo]),_:1}),o(U,{class:"q-pt-none"},{default:l(()=>[o(ge,{ref_key:"toolNameRef",ref:E,modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=u=>a.value=u),dense:"",placeholder:"\u5BFC\u822A\u540D\u79F0",rules:[u=>!!u||"\u5BFC\u822A\u540D\u79F0\u662F\u5FC5\u8981\u7684"]},null,8,["modelValue","rules"]),o(ge,{ref_key:"toolUrlRef",ref:h,modelValue:c.value,"onUpdate:modelValue":i[1]||(i[1]=u=>c.value=u),dense:"",placeholder:"\u5B8C\u6574\u7684 URL\uFF0C\u901A\u5E38\u4EE5 http:// \u6216 https:// \u8D77\u59CB",rules:[u=>!!u||"URL \u662F\u5FC5\u8981\u7684"]},null,8,["modelValue","rules"])]),_:1}),o(We,{align:"right"},{default:l(()=>[o(D,{color:"primary",label:"\u6DFB\u52A0",onClick:_}),L(o(D,{outline:"",color:"primary",label:"\u53D6\u6D88"},null,512),[[Se]])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),lo=C(" \u6DFB\u52A0\u5BFC\u822A\u5DE5\u5177 "),io={key:1},ro=T("span",null,"\u5DF2\u6DFB\u52A0",-1),co=B({props:{showDialog:{default:!1,type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=V({get(){return n.showDialog},set(i){e("update:modelValue",i)}}),s=p(!1);function a(){s.value=!0}const c=Q();function E(i){return c.state.settings.tools.find(u=>u.id===i.id)}const h=p({}),v=p(),g=p();fetch("/tools.json").then(i=>i.json()).then(i=>{var u;h.value=i,v.value=Object.keys(i),g.value=(u=v.value)==null?void 0:u[0]});function _(i){c.dispatch(I.ADD_TOOL,i)}function d(i){c.dispatch(I.REMOVE_TOOL,i)}return(i,u)=>(m(),b(Fe,{modelValue:S(r),"onUpdate:modelValue":u[3]||(u[3]=f=>H(r)?r.value=f:null),"transition-show":"scale","transition-hide":"scale"},{default:l(()=>[o(ye,{class:"fit"},{default:l(()=>[o(U,{class:"bg-primary q-pa-none"},{default:l(()=>[o(Oe,null,{default:l(()=>[o(D,{flat:"",round:"",dense:"",icon:"add",class:"q-mr-sm",onClick:a}),o(ke,{class:"text-center text-bold"},{default:l(()=>[lo]),_:1}),L(o(D,{flat:"",round:"",dense:"",icon:"close"},null,512),[[Se]])]),_:1})]),_:1}),o(W),o(U,{horizontal:""},{default:l(()=>[o(U,{class:"col-3 q-pa-none"},{default:l(()=>[o(Ye,{modelValue:g.value,"onUpdate:modelValue":u[0]||(u[0]=f=>g.value=f),vertical:"","active-color":"primary","indicator-color":"primary"},{default:l(()=>[(m(!0),F(R,null,Y(v.value,f=>(m(),b(Ze,{key:f,name:f,label:f},null,8,["name","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(W,{vertical:""}),o(U,{class:"fit"},{default:l(()=>[o(et,{modelValue:g.value,"onUpdate:modelValue":u[1]||(u[1]=f=>g.value=f),animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:l(()=>[(m(!0),F(R,null,Y(v.value,f=>(m(),b(tt,{key:f,name:f,class:"q-pa-none"},{default:l(()=>[(m(!0),F(R,null,Y(h.value[f],y=>(m(),b(Ae,{key:y.id,bordered:"",separator:""},{default:l(()=>[L((m(),b(z,{clickable:""},{default:l(()=>[i.$q.screen.gt.xs?(m(),b(w,{key:0,avatar:"",style:{width:"2rem",height:"2rem"}},{default:l(()=>[o(ve,{src:`https://ico.kucat.cn/get.php?url=${y.url}`,alt:y.name,ratio:"1",width:"100%",height:"100%",fit:"contain"},{error:l(()=>[o(he,{name:"public",size:"2rem",class:x({"error-btn-icon":i.$q.screen.gt.xs})},null,8,["class"])]),_:2},1032,["src","alt"])]),_:2},1024)):$("",!0),o(w,null,{default:l(()=>[o(A,{class:"ellipsis"},{default:l(()=>[C(O(y.name),1)]),_:2},1024),o(A,{caption:"",class:"ellipsis-2-lines"},{default:l(()=>[C(O(y.comment||"\u65E0\u63CF\u8FF0"),1)]),_:2},1024)]),_:2},1024),o(w,{side:""},{default:l(()=>[E(y)?(m(),F("div",io,[ro,o(D,{flat:"",round:"",icon:"delete",size:"sm",onClick:M=>d(y)},null,8,["onClick"])])):(m(),b(D,{key:0,flat:"",size:"sm",color:"primary",label:"\u6DFB\u52A0",onClick:M=>_(y)},null,8,["onClick"]))]),_:2},1024)]),_:2},1024)),[[Z]])]),_:2},1024))),128))]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(ao,{modelValue:s.value,"onUpdate:modelValue":u[2]||(u[2]=f=>s.value=f)},null,8,["modelValue"])]),_:1},8,["modelValue"]))}});const mo={key:0},fo={key:0},_o=T("div",{class:"text-h5 text-bold text-info q-my-md"}," \u5DE5\u5177\u7BB1\u662F\u7A7A\u7684\uFF0C\u5FEB\u53BB\u6DFB\u52A0\u4E00\u4E2A\u5427 ",-1),po=B({setup(t){fe(g=>({"92b74e78":s.value,c67c7ed6:S(c)}));const e=J(),n=Q(),r=Ce(n.state.settings.tools),s=p("4rem"),a=p("down"),c=V(()=>n.state.settings.userSettings.toolRadius);function E(){n.dispatch(N.SET_SHOW_TOOLBOX,!n.state.controllers.isShowToolBox),a.value=n.state.controllers.isShowToolBox?"up":"down"}_e(()=>{!n.state.controllers.focusMode&&!n.state.controllers.isShowToolBox&&E()}),pe(()=>n.state.controllers.focusMode,g=>{g&&n.state.controllers.isShowToolBox&&E()});const h=p(!1);function v(){h.value=!0}return(g,_)=>(m(),F(R,null,[o(D,{class:"drop-btn",flat:"",rounded:"",color:"primary",icon:`keyboard_double_arrow_${a.value}`,onClick:E},null,8,["icon"]),o(Ie,{name:"scale-to-top"},{default:l(()=>[S(n).state.controllers.isShowToolBox?(m(),F("div",mo,[S(r).length?(m(),F("div",{key:1,class:"tool-box",style:ot(`grid-gap: ${S(e).screen.lt.sm?1:S(e).screen.lt.md?1.5:3}rem 1rem`)},[o(st,{name:"scale"},{default:l(()=>[(m(!0),F(R,null,Y(S(r),d=>(m(),b(no,{key:d.id,tool:d},null,8,["tool"]))),128))]),_:1}),S(r).length<24?(m(),b(D,{key:0,class:"add-tool-btn",onClick:v},{default:l(()=>[o(he,{size:`${S(e).screen.lt.sm?1.5:3}rem`,name:"add"},null,8,["size"])]),_:1})):$("",!0)],4)):(m(),F("div",fo,[_o,o(D,{label:"\u6DFB\u52A0\u5DE5\u5177",color:"primary",onClick:v})]))])):$("",!0)]),_:1}),o(co,{modelValue:h.value,"onUpdate:modelValue":_[0]||(_[0]=d=>h.value=d)},null,8,["modelValue"])],64))}});const go=t=>($e("data-v-285c621c"),t=t(),Be(),t),Eo=C("\u8BBE\u7F6E"),ho=C("\u529F\u80FD"),vo=C("\u5207\u6362\u641C\u7D22\u5F15\u64CE\u65F6\u4FDD\u5B58\u4E3A\u9ED8\u8BA4\u5F15\u64CE"),So=C("\u542F\u52A8\u65F6\u542F\u7528\u805A\u7126\u6A21\u5F0F"),yo=C("\u663E\u793A"),Fo=C("\u4FE1\u606F\u9762\u677F"),To=C("\u5DE5\u5177\u7BB1\u56FE\u6807\u5706\u89D2"),bo=C("\u80CC\u666F\u56FE\u7247"),Do={class:"image-tip absolute-bottom text-caption text-center"},wo=["href"],Co=go(()=>T("span",null,[C(" \u56FE\u7247\u6E90\u81EA "),T("a",{style:{display:"inline"},target:"_blank",href:"https://bing.com"}," Bing ")],-1)),$o=C("\u91CD\u7F6E"),Bo=C("\u6062\u590D\u9ED8\u8BA4\u8BBE\u7F6E"),Oo=B({props:{showDialog:{default:!1,type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=V({get(){return n.showDialog},set(i){e("update:modelValue",i)}}),s=Q(),a=V({get(){return s.state.settings.userSettings.isSaveDefaultSearchEngine},set(i){const u={isSaveDefaultSearchEngine:i};s.commit(I.SAVE_USER_SETTINGS,u),K(u)}}),c=V({get(){return s.state.settings.userSettings.isDefaultFocusMode},set(i){const u={isDefaultFocusMode:i};s.commit(I.SAVE_USER_SETTINGS,u),K(u)}}),E=V({get(){return s.state.settings.userSettings.isShowInfoPanel},set(i){const u={isShowInfoPanel:i};s.commit(I.SAVE_USER_SETTINGS,u),K(u)}}),h=V({get(){return s.state.settings.userSettings.toolRadius||10},set(i){const u={toolRadius:i};s.commit(I.SAVE_USER_SETTINGS,u)}});function v(i){K({toolRadius:i})}const g=J();function _(){g.dialog({title:"\u8B66\u544A",message:"\u786E\u8BA4\u540E\u7CFB\u7EDF\u4F1A\u6E05\u9664\u6240\u6709\u6570\u636E\u5E76\u6062\u590D\u9ED8\u8BA4\u503C\uFF0C\u60A8\u786E\u5B9A\u7EE7\u7EED\u5417?",color:"negative",ok:"\u662F\u7684",cancel:"\u4E0D\uFF0C\u6211\u518D\u60F3\u60F3"}).onOk(()=>{Zt(),location.reload()})}function d(){var i;if((i=s.state.controllers.backgroundImage)==null?void 0:i.url){const u=new Image;u.setAttribute("crossOrigin","anonymous"),u.src=s.state.controllers.backgroundImage.url,u.onload=()=>{const f=document.createElement("canvas");f.width=u.width,f.height=u.height;const y=f.getContext("2d");y==null||y.drawImage(u,0,0,u.width,u.height);const M=document.createElement("a");M.href=f.toDataURL("image/png"),M.download="background.png",M.click()}}}return(i,u)=>(m(),b(Fe,{modelValue:S(r),"onUpdate:modelValue":u[6]||(u[6]=f=>H(r)?r.value=f:null)},{default:l(()=>[o(ye,{class:"fit"},{default:l(()=>[o(U,{class:"bg-primary q-pa-none"},{default:l(()=>[o(Oe,null,{default:l(()=>[o(ke,{class:"text-center text-bold"},{default:l(()=>[Eo]),_:1}),L(o(D,{flat:"",round:"",dense:"",icon:"close"},null,512),[[Se]])]),_:1})]),_:1}),o(U,{class:"scroll",style:{height:"calc(100% - 50px)"}},{default:l(()=>[o(Ae,{bordered:"",padding:""},{default:l(()=>[o(A,{header:""},{default:l(()=>[ho]),_:1}),L((m(),b(z,{tag:"label"},{default:l(()=>[o(w,null,{default:l(()=>[o(A,null,{default:l(()=>[vo]),_:1})]),_:1}),o(w,{side:""},{default:l(()=>[o(Te,{modelValue:S(a),"onUpdate:modelValue":u[0]||(u[0]=f=>H(a)?a.value=f:null),color:"blue"},null,8,["modelValue"])]),_:1})]),_:1})),[[Z]]),L((m(),b(z,{tag:"label"},{default:l(()=>[o(w,null,{default:l(()=>[o(A,null,{default:l(()=>[So]),_:1})]),_:1}),o(w,{side:""},{default:l(()=>[o(Te,{modelValue:S(c),"onUpdate:modelValue":u[1]||(u[1]=f=>H(c)?c.value=f:null),color:"blue"},null,8,["modelValue"])]),_:1})]),_:1})),[[Z]]),o(W,{spaced:""}),o(A,{header:""},{default:l(()=>[yo]),_:1}),L((m(),b(z,{tag:"label"},{default:l(()=>[o(w,null,{default:l(()=>[o(A,null,{default:l(()=>[Fo]),_:1})]),_:1}),o(w,{side:""},{default:l(()=>[o(Te,{modelValue:S(E),"onUpdate:modelValue":u[2]||(u[2]=f=>H(E)?E.value=f:null),color:"blue"},null,8,["modelValue"])]),_:1})]),_:1})),[[Z]]),o(z,null,{default:l(()=>[o(w,null,{default:l(()=>[o(A,null,{default:l(()=>[To]),_:1})]),_:1}),o(w,null,{default:l(()=>[o(nt,{modelValue:S(h),"onUpdate:modelValue":u[3]||(u[3]=f=>H(h)?h.value=f:null),min:0,max:50,label:"",onChange:v},null,8,["modelValue"])]),_:1}),o(w,{side:""},{default:l(()=>[o(D,{size:"sm",color:"primary",label:"\u91CD\u7F6E",onClick:u[4]||(u[4]=f=>h.value=10)})]),_:1})]),_:1}),o(z,{class:"bg-image"},{default:l(()=>[o(w,null,{default:l(()=>[o(A,null,{default:l(()=>[bo]),_:1})]),_:1}),o(w,null,{default:l(()=>{var f;return[o(ve,{src:(f=S(s).state.controllers.backgroundImage)==null?void 0:f.url.replace("1920x1080","400x240")},{default:l(()=>{var y,M;return[T("div",Do,[T("a",{target:"_blank",href:(y=S(s).state.controllers.backgroundImage)==null?void 0:y.copyrightLink},O((M=S(s).state.controllers.backgroundImage)==null?void 0:M.copyright),9,wo)])]}),_:1},8,["src"])]}),_:1}),o(w,{side:"",style:{gap:"1rem"}},{default:l(()=>[Co,o(D,{label:"\u4E0B\u8F7D\u8BE5\u56FE\u7247",flat:"",size:"sm",color:"primary",onClick:d})]),_:1})]),_:1}),o(W,{spaced:""}),o(A,{header:""},{default:l(()=>[$o]),_:1}),o(z,{tag:"label",onClick:u[5]||(u[5]=Ee(()=>{},["prevent"]))},{default:l(()=>[o(w,null,{default:l(()=>[o(A,null,{default:l(()=>[Bo]),_:1})]),_:1}),o(w,{side:""},{default:l(()=>[o(D,{flat:"",color:"negative",label:"\u91CD\u7F6E",onClick:_})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});var ko=q(Oo,[["__scopeId","data-v-285c621c"]]);const Ao={class:"absolute-top-right q-mr-md q-mt-sm"},Io={key:0,class:"absolute-bottom text-grey-8",style:{"padding-bottom":"10rem"}},xo=T("sup",null,"\u300E",-1),Vo=T("sub",null,"\u300F",-1),Ro=B({setup(t){const e=Q();function n(){document.body.classList.contains("global-search-active")&&document.body.classList.remove("global-search-active"),e.state.controllers.focusMode&&e.dispatch(N.SET_FOCUS_MODE,!1),e.state.controllers.removeToolState&&e.dispatch(N.SET_REMOVE_TOOL_STATE,!1)}const r=p(!1),s=p(!1);kt(()=>{s.value=!0},()=>{s.value=!1});const a=p([]),c=p();fetch("/aphorisms.json").then(g=>g.json()).then(g=>{a.value=g,c.value=Ve(a.value)}),pe(()=>e.state.controllers.focusMode,()=>{c.value=Ve(a.value)});function E(g=!1,_=()=>{},d=()=>{}){De(`https://api.xiaopangying.com/image/bing?random=${g}`).then(([,i])=>{e.dispatch(N.SET_BACKGROUND_IMAGE,i).then(()=>{var u;document.body.style.backgroundImage=`url(${(u=e.state.controllers.backgroundImage)==null?void 0:u.url})`})}).catch(_).finally(d)}E();const h=p(!1);function v(){h.value=!0,setTimeout(()=>{E(!0,void 0,()=>{h.value=!1})},500)}return(g,_)=>(m(),F("div",null,[T("div",{class:"column full-height",onClickPassive:n},[T("div",Ao,[o(D,{flat:"",round:"",size:"sm",icon:"settings",onClick:_[0]||(_[0]=()=>r.value=!0)})]),T("div",{class:x(["column full-width justify-end q-gutter-y-md",`col-${g.$q.screen.lt.sm&&s.value?9:5}`])},[S(e).state.settings.userSettings.isShowInfoPanel?(m(),b(Xt,{key:0})):$("",!0),o(eo)],2),T("div",{class:x(["q-py-md",`col-${g.$q.screen.lt.sm&&s.value?3:7}`])},[o(po),o(Ie,{name:"fade"},{default:l(()=>{var d;return[!s.value&&S(e).state.controllers.focusMode?(m(),F("div",Io,[xo,C(" "+O((d=c.value)==null?void 0:d.content)+" ",1),Vo,o(at,{delay:500},{default:l(()=>{var i,u;return[C(O((i=c.value)==null?void 0:i.source)+" "+O((u=c.value)==null?void 0:u.author),1)]}),_:1})])):$("",!0)]}),_:1})],2)],32),o(ko,{modelValue:r.value,"onUpdate:modelValue":_[1]||(_[1]=d=>r.value=d)},null,8,["modelValue"]),L(o(D,{class:"absolute-bottom-right q-mb-lg q-mr-md",round:"",flat:"",icon:"auto_awesome",loading:h.value,disable:h.value,color:"accent",onClick:v},{loading:l(()=>[o(lt)]),_:1},8,["loading","disable"]),[[ut,!S(e).state.controllers.focusMode]])]))}}),Lo=[{name:"baidu",url:"https://www.baidu.com/s?wd=",icon:"baidu",comment:"\u767E\u5EA6"},{name:"bing",url:"https://www.bing.com/search?q=",icon:"bing",comment:"\u5FC5\u5E94"},{name:"google",url:"https://www.google.com/search?q=",icon:"google",comment:"\u8C37\u6B4C\uFF08\u9700\u8981\u68AF\u5B50\uFF09"},{name:"magi",url:"https://magi.com/search?q=",icon:"magi",comment:"Magi\uFF08\u641C\u4EBA\u3001\u4E8B\u3001\u7269\u3001\u6982\u5FF5\uFF0C\u6216\u8005\u76F4\u63A5\u63D0\u95EE\uFF09"}],No=[{id:"C0A9D43F6903",url:"https://pan.baidu.com",name:"\u767E\u5EA6\u7F51\u76D8"},{id:"BB355B5AC8B4",url:"https://mail.qq.com",name:"QQ\u90AE\u7BB1"},{id:"55EE1ECDB03B",url:"https://mail.163.com/",name:"163\u90AE\u7BB1"},{id:"BBA139347B80",url:"https://web.wechat.com/?lang=zh_CN",name:"\u5FAE\u4FE1\u7F51\u9875\u7248"}];function Mo(){const t=k.getItem(Me),e=He;t?Object.assign(e,JSON.parse(t)):K(e),G.dispatch(I.SAVE_USER_SETTINGS,e),G.dispatch(N.SET_FOCUS_MODE,e.isDefaultFocusMode)}function Uo(){const t=k.getItem(me);let e=[];t?e=JSON.parse(t):(e=No,Wt(e)),G.dispatch(I.SET_TOOL_LIST,e)}function Ho(){const t=k.getItem(Le);let e=[];t?e=JSON.parse(t):(e=Lo,Yt(e)),G.dispatch(I.SET_SEARCH_ENGINE_LIST,e)}function zo(){const t=k.getItem(Ne);typeof t=="number"?G.dispatch(N.SET_SEARCH_ENGINE_IDX,t):ze(0)}function qo(){Mo(),Uo(),Ho(),zo()}const Go=[{path:"/",name:"Home",component:Ro},{path:"/:pathMatch(.*)*",component:()=>Ft(()=>import("./404.5e78d911.js"),["assets/404.5e78d911.js","assets/404.eae921f3.css","assets/vendor.a9547dfa.js"])}],qe=it({history:rt(),routes:Go});qe.beforeEach((t,e,n)=>{qo(),n()});const Qo=ct(vt);Qo.use(dt,{plugins:{Notify:mt,Dialog:ft},lang:_t,config:{}}).use(qe).use(G,Ue).mount("#app");export{q as _};
